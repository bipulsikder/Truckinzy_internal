199:      case "jd":
200-        // JD-based search - SEPARATE from manual search
201-        if (!jobDescription || jobDescription.trim().length === 0) {
202-          return NextResponse.json({ error: "Job description is required" }, { status: 400 })
203-        }
204-        
205-        // Extract keywords from job description for better matching
206-        const extractedJDKeywords = extractKeywordsFromSentence(jobDescription);
207-        console.log("Extracted keywords from JD:", extractedJDKeywords);
208-        
209-        // Use jdBasedSearch with the original job description
210-        results = await jdBasedSearch(jobDescription, transformedCandidates)
211-        
212-        // Add extracted keywords to the results
213-        results = results.map(candidate => ({
214-          ...candidate,
215-          extractedKeywords: extractedJDKeywords
216-        }))
217-        break
218-
219-      case "manual":
